{"version":3,"sources":["webpack:///src/assets/page/admin/singer/singerList.vue","webpack:///./src/assets/page/admin/singer/singerList.vue?ca75","webpack:///./src/assets/page/admin/singer/singerList.vue"],"names":["__webpack_exports__","__WEBPACK_IMPORTED_MODULE_1__components_admin_tableList_vue__","val","this","pageNum","pageSize","searchStr","data","then","response","createTime","list","counts","catch","error","_this","id","delIds","msg","Array","delId","singer_singerList","render","_vm","_h","$createElement","_c","_self","ref","attrs","placehoder","on","changePageNum","handleCurrentChange","changePageSize","handleSizeChange","search","getSingerList","add","$event","$router","push","del","delSoupCounts","slot","staticClass","staticStyle","width","name","type","click","checkAll","_v","_l","item","index","key","_s","delSoupOne","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","singerList"],"mappings":"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","file":"static/js/17.808446ce357ffc15b2b2.js","sourcesContent":["<template>\n  <table-list ref=\"tableList\" v-if=\"flag\" :pageNum=\"pageNum\"\n              :pageSize=\"pageSize\"\n              :counts=\"counts\"\n              placehoder=\"歌手\"\n              @changePageNum=\"handleCurrentChange\"\n              @changePageSize=\"handleSizeChange\"\n              @search=\"getSingerList\"\n              @add=\"$router.push('add_singer')\"\n              @del=\"delSoupCounts\">\n    <div slot=\"tableContainer\">\n      <table>\n        <tr class=\"title\">\n            <th style=\"width:10%;\"><input @click=\"checkAll\" name=\"checkAll\" type=\"checkbox\"></th>\n            <th style=\"width:10%;\">序号</th>\n            <th style=\"width:30%;\">歌手</th>\n            <th style=\"width:20%;\">更新日期</th>\n            <th style=\"width:15%;\">操作</th>\n        </tr>\n        <tr v-for=\"(item,index) in list\" :key=\"item.id\">\n            <td style=\"width:10%;\"><input type=\"checkbox\" name=\"articlebox\" :id=\"item.id\"></td>\n            <td style=\"width:10%;\">{{ index + 1 }}</td>\n            <td style=\"width:30%;\">{{ item.name }}</td>\n            <td style=\"width:20%;\">{{ item.createTime }}</td>\n            <td style=\"width:15%;\" class=\"do-something\">\n                <i class=\"el-icon-edit\" @click=\"$router.push('edit_singer?id='+item.id)\"></i>\n                <i class=\"el-icon-delete\" @click=\"delSoupOne(item.id)\"></i>\n            </td>\n        </tr>\n        </table>\n    </div>\n  </table-list>\n</template>\n<script>\nimport { format } from \"@/common/js/funMethod.js\"\nimport tableList from '@/components/admin/tableList.vue'\nimport { getSingerList, delSingers } from \"@/api/admin\";\n\nexport default {\n  name: \"soupList\",\n  data: function() {\n    return {\n      list: [],\n      pageNum: 1,\n      pageSize: 10,\n      counts: 0,\n      delIds: [],\n      searchStr: '',\n      flag: false\n    };\n  },\n  components:{\n    'table-list': tableList\n  },\n  created: function() {\n    this.getSingerList({})\n  },\n  methods: {\n    handleSizeChange(val) {\n      this.pageSize = val\n      this.getSingerList({})\n    },\n    handleCurrentChange(val) {\n      this.pageNum = val\n      this.getSingerList({})\n    },\n    // 获取列表\n    getSingerList: function(msg) {\n      this.searchStr = msg.searchStr ? msg.searchStr : ''\n      var btn = msg.isBtnEvent ? msg.isBtnEvent : false\n      var that = this\n      var data = {\n        pageNum: btn ? 1 : that.pageNum,\n        pageSize: that.pageSize,\n        searchStr: that.searchStr\n      };\n      getSingerList(data)\n        .then(response => {\n          if (response.data.code == 200) {\n            response.data.list.forEach(function (i) {\n              i.createTime = format(i.createTime)\n            })\n            that.list = response.data.list;\n            that.counts = response.data.counts;\n            that.flag = true\n            if (that.$refs.tableList) {\n              that.$refs.tableList.changeCounts(that.counts)\n            }\n          }\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    },\n\n    // 全选\n    checkAll: function() {\n      var ischeckedAll = $('[name=\"checkAll\"]').prop(\"checked\");\n      if (!ischeckedAll) {\n        var ids = $('[name=\"articlebox\"]').prop(\"checked\", false);\n      } else {\n        var ids = $('[name=\"articlebox\"]').prop(\"checked\", \"checked\");\n      }\n    },\n    // 批量删除文章\n    delSoupCounts: function() {\n      var that = this;\n      $('[name=\"articlebox\"]:checked').each((n, i) => {\n        this.delIds.push(i.id);\n      });\n      if (this.delIds.lenght <= 0) {\n        alert(\"请选则要删除的项！\");\n        return;\n      }\n\n      var data = { ids: this.delIds };\n      delSingers(data)\n        .then(response => {\n          if (response.data.code == 200) {\n            alert(\"success\");\n            that.$router.go(0)\n          } else {\n            alert(response.data.msg);\n          }\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    },\n    // 单条删除文章\n    delSoupOne: function(id) {\n      var that = this\n      var delId = new Array();\n      delId.push(id);\n      var data = {ids: delId};\n      delSingers(data)\n        .then(response => {\n          if (response.data.code == 200) {\n            alert(\"success\");\n            that.$router.go(0)            \n          } else {\n            alert(response.data.msg);\n          }\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    }\n  }\n};\n</script>\n\n\n\n\n// WEBPACK FOOTER //\n// src/assets/page/admin/singer/singerList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.flag)?_c('table-list',{ref:\"tableList\",attrs:{\"pageNum\":_vm.pageNum,\"pageSize\":_vm.pageSize,\"counts\":_vm.counts,\"placehoder\":\"歌手\"},on:{\"changePageNum\":_vm.handleCurrentChange,\"changePageSize\":_vm.handleSizeChange,\"search\":_vm.getSingerList,\"add\":function($event){_vm.$router.push('add_singer')},\"del\":_vm.delSoupCounts}},[_c('div',{attrs:{\"slot\":\"tableContainer\"},slot:\"tableContainer\"},[_c('table',[_c('tr',{staticClass:\"title\"},[_c('th',{staticStyle:{\"width\":\"10%\"}},[_c('input',{attrs:{\"name\":\"checkAll\",\"type\":\"checkbox\"},on:{\"click\":_vm.checkAll}})]),_vm._v(\" \"),_c('th',{staticStyle:{\"width\":\"10%\"}},[_vm._v(\"序号\")]),_vm._v(\" \"),_c('th',{staticStyle:{\"width\":\"30%\"}},[_vm._v(\"歌手\")]),_vm._v(\" \"),_c('th',{staticStyle:{\"width\":\"20%\"}},[_vm._v(\"更新日期\")]),_vm._v(\" \"),_c('th',{staticStyle:{\"width\":\"15%\"}},[_vm._v(\"操作\")])]),_vm._v(\" \"),_vm._l((_vm.list),function(item,index){return _c('tr',{key:item.id},[_c('td',{staticStyle:{\"width\":\"10%\"}},[_c('input',{attrs:{\"type\":\"checkbox\",\"name\":\"articlebox\",\"id\":item.id}})]),_vm._v(\" \"),_c('td',{staticStyle:{\"width\":\"10%\"}},[_vm._v(_vm._s(index + 1))]),_vm._v(\" \"),_c('td',{staticStyle:{\"width\":\"30%\"}},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('td',{staticStyle:{\"width\":\"20%\"}},[_vm._v(_vm._s(item.createTime))]),_vm._v(\" \"),_c('td',{staticClass:\"do-something\",staticStyle:{\"width\":\"15%\"}},[_c('i',{staticClass:\"el-icon-edit\",on:{\"click\":function($event){_vm.$router.push('edit_singer?id='+item.id)}}}),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-delete\",on:{\"click\":function($event){_vm.delSoupOne(item.id)}}})])])})],2)])]):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7c5a570f\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/assets/page/admin/singer/singerList.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./singerList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./singerList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7c5a570f\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./singerList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/page/admin/singer/singerList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}