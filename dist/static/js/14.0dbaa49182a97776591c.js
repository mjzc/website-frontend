webpackJsonp([14],{LI2L:function(t,e){},T4iO:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("qIga"),n={data:function(){return{id:"",name:"",uploadImgUrl:"",isShowAdd:!1}},created:function(){this.id=this.$route.query.id,this.getSingerById()},methods:{chooseImg:function(t){var e=this,a=t.target.files[0];if(a&&window.FileReader&&/^image/.test(a.type)){var i=new FileReader;i.readAsDataURL(a),i.onloadend=function(){var t=this.result;this.result.length<=512e3?(e.uploadImgUrl=t,e.isShowAdd=!1):alert("图片过大，请上传小于500k的照片")}}},getSingerById:function(){var t=this;Object(i.x)({id:this.id}).then(function(e){console.log(e.data),t.uploadImgUrl=e.data.list[0].headImg,t.name=e.data.list[0].name}).catch(function(t){console.log(t)})},editSinger:function(){var t=this;if(""!=this.soupContent){var e={id:this.id,name:this.name,img:this.uploadImgUrl};Object(i.o)(e).then(function(e){200==e.data.code?(alert("修改成功"),t.$router.push("/web_admin/singer_manage")):alert(e.data.msg)}).catch(function(t){console.log(t)})}else alert("请输入文章内容")}}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content"},[i("div",{staticClass:"text-content"},[i("div",{staticClass:"bg-img-content"},[i("label",{attrs:{for:""}},[t._v("歌手头像：")]),t._v(" "),i("div",{staticClass:"bg-img-box",style:{"background-image":"url("+t.uploadImgUrl+")"}},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.isShowAdd,expression:"isShowAdd"}],staticStyle:{"padding-top":"25px"},attrs:{src:a("cx9U"),alt:""}}),t._v(" "),i("input",{staticClass:"upload-input",attrs:{type:"file"},on:{change:t.chooseImg}})])]),t._v(" "),i("label",{attrs:{for:""}},[t._v("名称：")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"input-box",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"group-btn",staticStyle:{"text-align":"right"}},[i("button",{staticClass:"refresh-btn",on:{click:t.editSinger}},[t._v("保存")])])])},staticRenderFns:[]},o=a("VU/8")(n,s,!1,function(t){a("LI2L")},null,null);e.default=o.exports}});
//# sourceMappingURL=14.0dbaa49182a97776591c.js.map