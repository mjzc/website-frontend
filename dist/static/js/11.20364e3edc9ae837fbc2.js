webpackJsonp([11],{b2yP:function(t,e){},mMlF:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("qIga"),s={name:"addSinger",data:function(){return{name:"",uploadImgUrl:"",isShowAdd:!0}},created:function(){},methods:{chooseImg:function(t){var e=this,a=t.target.files[0];if(a&&window.FileReader&&/^image/.test(a.type)){var n=new FileReader;n.readAsDataURL(a),n.onloadend=function(){var t=this.result;this.result.length<=512e3?(e.uploadImgUrl=t,e.isShowAdd=!1,console.log(e.uploadImgUrl)):alert("图片过大，请上传小于500k的照片")}}},sumbitSinger:function(){var t=this;if(""!=this.singer_name)if(""!=this.uploadImgUrl){var e={singer_name:t.name,head_img:t.uploadImgUrl};Object(n.f)(e).then(function(e){200==e.data.code?(alert("添加成功"),t.$router.push("/web_admin/singer_manage")):alert(e.data.msg)}).catch(function(t){console.log(t)})}else alert("请上传图片");else alert("请输入名称")}}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("div",{staticClass:"text-content"},[n("div",{staticClass:"bg-img-content"},[n("label",{attrs:{for:""}},[t._v("歌手头像：")]),t._v(" "),n("div",{staticClass:"bg-img-box",style:{"background-image":"url("+t.uploadImgUrl+")"}},[n("img",{directives:[{name:"show",rawName:"v-show",value:t.isShowAdd,expression:"isShowAdd"}],staticStyle:{"padding-top":"25px"},attrs:{src:a("cx9U"),alt:""}}),t._v(" "),n("input",{staticClass:"upload-input",attrs:{type:"file"},on:{change:t.chooseImg}})])]),t._v(" "),n("label",{attrs:{for:""}},[t._v("名称：")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"input-box",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"group-btn",staticStyle:{"text-align":"right"}},[n("button",{staticClass:"refresh-btn",on:{click:t.sumbitSinger}},[t._v("保存")])])])},staticRenderFns:[]},r=a("VU/8")(s,i,!1,function(t){a("b2yP")},null,null);e.default=r.exports}});
//# sourceMappingURL=11.20364e3edc9ae837fbc2.js.map