webpackJsonp([10],{"7zqe":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("qIga"),o={name:"addArticles",data:function(){return{id:"",title:"",soupContent:"",uploadImgUrl:"",isShowAdd:!1}},created:function(){this.id=this.$route.query.id,this.getSoupDetail()},methods:{chooseImg:function(t){var e=this,i=t.target.files[0];if(i&&window.FileReader&&/^image/.test(i.type)){var a=new FileReader;a.readAsDataURL(i),a.onloadend=function(){var t=this.result;this.result.length<=512e3?(e.uploadImgUrl=t,e.isShowAdd=!1,console.log(e.uploadImgUrl)):alert("图片过大，请上传小于500k的照片")}}},getSoupDetail:function(){var t=this;Object(a.A)({id:this.id}).then(function(e){t.uploadImgUrl=e.data.imgLink,t.title=e.data.title,t.soupContent=e.data.content}).catch(function(t){console.log(t)})},editSoup:function(){var t=this;if(""!=this.soupContent){var e={id:this.id,title:this.title,content:this.soupContent,img:this.uploadImgUrl};Object(a.q)(e).then(function(e){200==e.data.code?(alert("修改成功"),t.$router.push("/web_admin/soup_manage")):alert(e.data.msg)}).catch(function(t){console.log(t)})}else alert("请输入文章内容")}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"text-content"},[a("div",{staticClass:"bg-img-content"},[a("label",{attrs:{for:""}},[t._v("全屏背景：")]),t._v(" "),a("div",{staticClass:"bg-img-box",style:{"background-image":"url("+t.uploadImgUrl+")"}},[a("img",{directives:[{name:"show",rawName:"v-show",value:t.isShowAdd,expression:"isShowAdd"}],staticStyle:{"padding-top":"25px"},attrs:{src:i("cx9U"),alt:""}}),t._v(" "),a("input",{staticClass:"upload-input",attrs:{type:"file"},on:{change:t.chooseImg}})])]),t._v(" "),a("label",{attrs:{for:""}},[t._v("鸡汤标题：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"input-box",attrs:{type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v(" "),a("div",{staticClass:"introdution-box"},[a("label",{attrs:{for:""}},[t._v("文章内容：")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.soupContent,expression:"soupContent"}],staticClass:"introdution-input",attrs:{name:"",id:"",cols:"30",rows:"5"},domProps:{value:t.soupContent},on:{input:function(e){e.target.composing||(t.soupContent=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"group-btn",staticStyle:{"text-align":"right"}},[a("button",{staticClass:"refresh-btn",on:{click:t.editSoup}},[t._v("修改")])])])},staticRenderFns:[]},s=i("VU/8")(o,n,!1,function(t){i("DKGd")},null,null);e.default=s.exports},DKGd:function(t,e){}});
//# sourceMappingURL=10.f10f635729600b8e3d88.js.map